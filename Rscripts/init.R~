# Call this once, when fresh prompt library(RMySQL)
library(RMySQL)
con = dbConnect(MySQL(), user="root", password="root",dbname="github", host="localhost")
dbListTables(con)
repos = dbGetQuery(con,statement='SELECT repo_url from WatchEvents')
totalRepoCount = dbGetQuery(con,statement='SELECT DISTINCT count(*) repo_url from WatchEvents')
mostWatchedRepos = dbGetQuery(con,statement='SELECT DISTINCT  repo_url from WatchEvents order by repo_watchers DESC LIMIT 10')
mostFollowedUsers = dbGetQuery(con,statement='SELECT DISTINCT  followedUser_login from FollowEvents order by followedUser_followers DESC LIMIT 10')

#plotting time series for https://github.com/twitter/bootstrap
growthData = dbGetQuery(con,statement="SELECT timeStamp,repo_watchers FROM WatchEvents WHERE repo_url = 'https://github.com/twitter/bootstrap' ORDER BY timeStamp")
growthData$timeStamp = strptime(growthData$timeStamp,"%Y-%m-%dT%H:%M:%S")
plot(growthData$timeStamp,growthData$repo_watchers)






